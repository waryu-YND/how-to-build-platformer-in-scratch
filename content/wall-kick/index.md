---
title: "壁キック"
description: "壁に向かって進んでいるときに、上向き矢印を押すことで壁キックをして壁を登れるようにします。"
category: "motion"
difficult: 4
---

## ヒント

「壁キック」とは、壁に向かって進み、壁にぶつかっているときに上向き矢印を押し壁を登ることです。  

これを作るには、プレイヤー本体の一番長いプログラムにプログラムを追加します。

![壁にぶつかっているとき](/on_wall.png)

「壁にぶつかっている」というのは、そのプログラムの、ここの部分に当たります。

ここに作るのは「上向き矢印キーが押されたときに、壁があるのと逆方向に飛ぶ」という壁キックの動きです。  
壁があるのと逆方向に飛ぶには、X速度（横に移動するときの速さ）がプラスなのか、マイナスなのかを判定します。  
プラスで壁にぶつかっているのなら、右側に壁があるので、左側に飛ぶようにします  
マイナスで壁にぶつかっているのなら、左側に壁があるので、右側に飛ぶようにします

しかし、壁キックしない場合は、X速度を0にすることに気を付けてください

X速度が + か - かは、<code class="b"><(X速度::variables)\>(0)::operators></code> を使います。

## やってみよう

以下のプログラムを作ろう

```
もし壁にぶつかっているのなら、上向き矢印キーが押されたときに、壁と逆の方向に飛ぶ
```

### さらにヒント

「右に飛ぶ」は、Y速度を15にし、X速度を10にするぐらいがちょうどいいでしょう。  
「左に飛ぶ」は、X速度をマイナスにすれば大丈夫です。

## 答え

<pre class="blocks">
もし<(上向き矢印 v)キーが押された>なら
  [Y速度 v]を(15)にする
  もし<(X速度)\>(0)>なら
    [X速度 v]を(-10)にする
  でなければ
    [X速度 v]を(10)にする
  end
でなければ
  [X速度 v]を(0)にする
end
</pre>

これを、ヒントで述べたところの「もし」の最後に入れます。
そうすることで壁キックができるようになります
